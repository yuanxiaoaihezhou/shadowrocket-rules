/***********************************************
> 应用名称：墨鱼自用小红书去广告脚本
> 脚本作者：@ddgksf2013
> 微信账号：墨鱼手记
> 更新时间：2026-02-02
> 通知频道：https://t.me/ddgksf2021
> 贡献投稿：https://t.me/ddgksf2013_bot
> 特别提醒：如需转载请注明出处，谢谢合作！
***********************************************/

const version = 'V1.0.28';
const $ = new Env("小红书");
var _0xodM='jsjiami.com.v7';function _0x134e(_0x30c9be,_0x1d0372){const _0x348a4d=_0x348a();return _0x134e=function(_0x134e31,_0x5a968c){_0x134e31=_0x134e31-0x1ab;let _0x26efbc=_0x348a4d[_0x134e31];if(_0x134e['sKnpOr']===undefined){var _0x508fa4=function(_0x4a2f98){const _0x243c06='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x35646f='',_0xf54e86='';for(let _0x34a007=0x0,_0xc9a30e,_0xbcfee8,_0x2c42e9=0x0;_0xbcfee8=_0x4a2f98['charAt'](_0x2c42e9++);~_0xbcfee8&&(_0xc9a30e=_0x34a007%0x4?_0xc9a30e*0x40+_0xbcfee8:_0xbcfee8,_0x34a007++%0x4)?_0x35646f+=String['fromCharCode'](0xff&_0xc9a30e>>(-0x2*_0x34a007&0x6)):0x0){_0xbcfee8=_0x243c06['indexOf'](_0xbcfee8);}for(let _0x3eb6d1=0x0,_0xc06f22=_0x35646f['length'];_0x3eb6d1<_0xc06f22;_0x3eb6d1++){_0xf54e86+='%'+('00'+_0x35646f['charCodeAt'](_0x3eb6d1)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xf54e86);};const _0xf9e735=function(_0x321b9e,_0x1ac65f){let _0x4754b5=[],_0x5b34aa=0x0,_0x496339,_0x24401f='';_0x321b9e=_0x508fa4(_0x321b9e);let _0x8677d;for(_0x8677d=0x0;_0x8677d<0x100;_0x8677d++){_0x4754b5[_0x8677d]=_0x8677d;}for(_0x8677d=0x0;_0x8677d<0x100;_0x8677d++){_0x5b34aa=(_0x5b34aa+_0x4754b5[_0x8677d]+_0x1ac65f['charCodeAt'](_0x8677d%_0x1ac65f['length']))%0x100,_0x496339=_0x4754b5[_0x8677d],_0x4754b5[_0x8677d]=_0x4754b5[_0x5b34aa],_0x4754b5[_0x5b34aa]=_0x496339;}_0x8677d=0x0,_0x5b34aa=0x0;for(let _0x277db0=0x0;_0x277db0<_0x321b9e['length'];_0x277db0++){_0x8677d=(_0x8677d+0x1)%0x100,_0x5b34aa=(_0x5b34aa+_0x4754b5[_0x8677d])%0x100,_0x496339=_0x4754b5[_0x8677d],_0x4754b5[_0x8677d]=_0x4754b5[_0x5b34aa],_0x4754b5[_0x5b34aa]=_0x496339,_0x24401f+=String['fromCharCode'](_0x321b9e['charCodeAt'](_0x277db0)^_0x4754b5[(_0x4754b5[_0x8677d]+_0x4754b5[_0x5b34aa])%0x100]);}return _0x24401f;};_0x134e['tTASUh']=_0xf9e735,_0x30c9be=arguments,_0x134e['sKnpOr']=!![];}const _0x54d91b=_0x348a4d[0x0],_0x2de71a=_0x134e31+_0x54d91b,_0x1a528a=_0x30c9be[_0x2de71a];return!_0x1a528a?(_0x134e['OGiMbo']===undefined&&(_0x134e['OGiMbo']=!![]),_0x26efbc=_0x134e['tTASUh'](_0x26efbc,_0x5a968c),_0x30c9be[_0x2de71a]=_0x26efbc):_0x26efbc=_0x1a528a,_0x26efbc;},_0x134e(_0x30c9be,_0x1d0372);}const _0x19ed6c=_0x134e;(function(_0x24174b,_0x2ab1fa,_0x8a363,_0x51c61a,_0x2ca213,_0x12d9cf,_0xdfe501){return _0x24174b=_0x24174b>>0x6,_0x12d9cf='hs',_0xdfe501='hs',function(_0x30cfe1,_0xd5b942,_0x3e641e,_0x47a949,_0x4a88fa){const _0x4c0f67=_0x134e;_0x47a949='tfi',_0x12d9cf=_0x47a949+_0x12d9cf,_0x4a88fa='up',_0xdfe501+=_0x4a88fa,_0x12d9cf=_0x3e641e(_0x12d9cf),_0xdfe501=_0x3e641e(_0xdfe501),_0x3e641e=0x0;const _0x1a6a84=_0x30cfe1();while(!![]&&--_0x51c61a+_0xd5b942){try{_0x47a949=-parseInt(_0x4c0f67(0x284,'#LHC'))/0x1*(parseInt(_0x4c0f67(0x1f3,'#LHC'))/0x2)+-parseInt(_0x4c0f67(0x1b9,'SAj('))/0x3+parseInt(_0x4c0f67(0x255,'MdyZ'))/0x4+-parseInt(_0x4c0f67(0x207,'QP3T'))/0x5*(parseInt(_0x4c0f67(0x1d1,'&m^h'))/0x6)+parseInt(_0x4c0f67(0x240,'e[Ip'))/0x7+parseInt(_0x4c0f67(0x269,'8OPc'))/0x8*(-parseInt(_0x4c0f67(0x281,'C99j'))/0x9)+parseInt(_0x4c0f67(0x221,'m53F'))/0xa*(parseInt(_0x4c0f67(0x268,'e[Ip'))/0xb);}catch(_0x17cffd){_0x47a949=_0x3e641e;}finally{_0x4a88fa=_0x1a6a84[_0x12d9cf]();if(_0x24174b<=_0x51c61a)_0x3e641e?_0x2ca213?_0x47a949=_0x4a88fa:_0x2ca213=_0x4a88fa:_0x3e641e=_0x4a88fa;else{if(_0x3e641e==_0x2ca213['replace'](/[LRfkqeKWgUrPHJMxVw=]/g,'')){if(_0x47a949===_0xd5b942){_0x1a6a84['un'+_0x12d9cf](_0x4a88fa);break;}_0x1a6a84[_0xdfe501](_0x4a88fa);}}}}}(_0x8a363,_0x2ab1fa,function(_0x3952f0,_0x193399,_0x342f1b,_0x163f3d,_0x491c2f,_0x2f8a82,_0x52a9a6){return _0x193399='\x73\x70\x6c\x69\x74',_0x3952f0=arguments[0x0],_0x3952f0=_0x3952f0[_0x193399](''),_0x342f1b='\x72\x65\x76\x65\x72\x73\x65',_0x3952f0=_0x3952f0[_0x342f1b]('\x76'),_0x163f3d='\x6a\x6f\x69\x6e',(0x1cd418,_0x3952f0[_0x163f3d](''));});}(0x31c0,0xa71c6,_0x348a,0xc9),_0x348a)&&(_0xodM=0xc9);function _0x348a(){const _0x26b60f=(function(){return[_0xodM,'HrLJjesfPjMWiJkLaqmix.JcoUmr.vxJ7KWwMRVg==','dZumW7KqW7eo','W7eBm8kt','W4FdMSoAWQxcQWq+W64V','wGhdKa','bxjUyqe+WR7dGhJdRSkG','cI1oW6qWWPtdQ3KaCJeD','xxuvWQbKW5a','W5ZdLmoSWPdcNG','WR7cM8kcmX3dV1NcGHJcSgZcO8kdWQpdRq','W7Cvi8kl','WOVdISkpnfSbtNyrW5xcP37dKmk2kSoJxSot','W7aPrmokD2RdMSoGWRBdOSoklYRcOa','wcO7','BtFdO8kEW5/dSNZcISkyeuldN8kYtrzliW','wtOoWQFdGSkawaKZW5e','WOhcN8kvbrFdOM3cOqpcUa','l0FdTCk6','uxZcLSk8WORdUSkvW4xdJW','DdFdTmkd','t3KkWQa','ACoOW6W','xsG9pLucWPldK1JcHmoj','umoXW7VcIW4uxmk/xJe','ySkPyqW','WR5hW7G','tfdcP8odvXe','WONdHCoNuSkV','aZRcJxucA8oqBfjgtxdcIq','wIOOpg8nWPm','hSkahJqUw8kljrK','W7P+W7ZcGq','k2WUW5NdPmok','W4ZdKmo8u8kBECoC','W6L+WO3dM8o9d8o2tq','WRtdV8k3fmoVWRSqW6ddPmoRoMaUzLr8Ea','WPZdH8orAW','WQmhWQlcUa','WRVcUmocgG','W6OoEhJcIxm7','sgWvWRvYW4O','CYBdTCkEW5ddIMBcJCkx','DCo3W6fLkSoEubeQ','xCovsHGRs8kNeW7dHxS6vflcT8kvWQS','WQZcRCoeeSoDEJdcRCoO','WOZdISkjiKW','WRKHW5RcSmk6vCkIzSoOW7LsASkg','W6a1tSomBfZdK8oRWOZdTCoFjZ3cQmk6','FSk+B8ohW4fVW7FdOHm','W6G3FdJdPa','eMNcImk9','xmoyrWS6CCkQiG/dHq','WORdG8obAmkdyCo0WQNdHtLFW4VdKSkCyqddQSo9dfVdVWe','mMFcS8ooWOZcMZ3cG8k/dM3dSSkS','s291W4FdP8k7','bMNcJSkVCW','WQDHxhJcUbhcR1JcSKi','W6iHvmoo','W7avi8kpzSosWOBcJhlcTG','W6HXWP3dPq','W5VdKmokWQlcMWC8W4iUW67dHhCyW73cGHZcLCkbWR1yWOyN','W74oEhJcIxm7','WQSyCq','zSoNrWpcRtmPWRq6wvGshSkC','xmoevbaXsCkQkHa','zCkJC8oAW7b/W7hdTG4M','WR9hW7hdO1/dGCoHW6VdPmkd','uG/dG8oe','vNPZW4VdSmkZWQpdVXjScIu','yCkTyqLWWRjN','W6ZdRx0','W79UWOqGjdBdP8o5aCkCWQ14a8oxWQDOlq','WO3cMSkv','hCouWOxcKmoVmN8HcSod','oMyUW4/dICosWOddU8ow'].concat((function(){return['W7H1WPRdSa','rmoMW63cPG','W6BdQSkbsSkfkrdcUCosWPKxWOW','rZe9k0q7WOpdN1hdMW','C8kZWPW','B8oYW6fWkSoEta0GEq','yMhdKhG','zXj3WPa','WOJdJSkijq','WR8SWR3dJtBdGHyQDaddKW','th50W5y','WQZcRCoxd8ogBG','fmotWOlcLmoYnu86j8oCrWykomkj','uLRcPa','FHNdTW','d2LkW77cIa','WO3dR2HKaCoWW6VdHSkHFSkWebr6W5VdK8ky','fmk0A0OhW47dKSoafa','kLBdSCkeAmkCmMrK','otBcJL8bBCoCve52tx7cOmoKfG','WR/dS8kWfmoQWReoW6xdOW','WQjgW4VdRf/dMW','q8oWW6tcTr0dv8kvss1FhmkAW63dGfxcMq','vwNcKmkWWPBdSmkDW5hdNCkcWPvFWRJcJcjdWRJcVa','xJ4jWQ7dJ8kemNDRWQroW78','yCkVC8ojW5TG','dg1EW7VdSCkHWR8','WONdO2bGgSokW6BdVq','r2BcHCk3WOJdUa','bxZcJSk1EeJcLSkopW','DSkVWRRdVCoAWQFcNW','exDYeWjvW6mNWRWFW5xcTfm','WRJdV8kWkG','f8oIWReVWOq','nGFdM8oArSkqWOfhW7G','W6OVqColCvVdM8oAWRRdQ8op','W43cKmkso8oypmogWR7dNG59W7O','W6tcTZpdR117W7PU','DsddQW','b8o5WQ4KWR4Brs7cUa','WQ1BAe/cGvaxWQ4','DJVdO8ksW5hdSNZcM8klexK','De7cKmoJuSkiWPzDW63dLCoMzSknWOZdTbC','W7zQWPqO','WQRcQ8oA','bJKBW7Wy','y8oWW6ZcLGyjwmkCrYzvf8kIW5FdLW','WQpcNCk/ar4','W7G2asxdNLFdVq3dRXlcKMS','WORcT8khhdK','b2fiW7RcPmoga1bXWO8','Bmo7W7jXkG','vCo0W7ZcTq','W706aJtcUWC','BKtcOSoLrCkeWRa','WQZdV8k2omo4','oCo6ECo9W4zFW5pdQa','v3VcGCkN','WRHbW6BdPfxdJ8oMW6RcPW','qSkPrmoEW4m','DGbMWOpcJKG+','WPqhEW7dTmkJW7yVCW','zJFdOSktWOtcJq','mh07W5VdPq','pLtdRq','yH/dVSkFWRy','W6xcUcpdKq','zCo8tW','qIW4pf87WPpdMuVdKmkfiCoPrq','DmkOWRy3','CJFdQ8kwW4RdIgVcTmkjg3ldMmkUFb5xkq','Ba7dR8kwWQqJxa','W4hdMSoAWP/cMaeKW6LHWR0','v8oGW6BcTX0pxmkKCsDEdmkBW5VdI1m','tuhcSCo5xXG','uMNcLSkMWOe'].concat((function(){return['wfZcR8oOwWC','WO7dU8kGcCoYWRexW5FdUCoQo1acBei','W6rXWPRdM8o7a8o3sCoAW7jxwmkmehtdU8kK','zSoNrWpcRtmRWR4Ou1yChmkt','WRTuW6BdVL4','WRNdO8oFyCkR','WR0KW57cTSk5bmo4A8oDW5nI','fhz/ebK','WRpdT8kG','v3RcIa','C1lcKmoJ','WRGFC8o/W5hdStpdHmkpf0ddNKVcP8o1','WOJdH8oxECkj','bZZcJq','W7y1u8oh','W7ueAW','o0FdS8kOEq','hZBcMwK','WOxcK8khfHFdO23cUbJcP30','gtKpW7OlW64','vh5PW4xdSSk+','DGfV','bJBcH3GXCSowz014xNq','wcWQpg8uWP/dMuJdKq','W4OZAGNdRSkEhcu4W5RcL8oShspcVq','aM3cJ8kO','AdpdTmkOW4ZdIgpcISkAexNdO8k6tb9gnW','ew3cKSk5ze7cI8kngvZcRdGRWPa','b2fiW7RcPmoga1bXWO8ZWPW','WQXqW6ddQvRdNmoU','daddT8kLdemLWPqBDmoGAbu','W7G2ccNdOhJdRW/dSHBcQM3cSCoWqHZdLq','wsa4mfe','WRydC8oOW7RdRZpdMmk0fW','AmkIWOddPLhdPh1BnNbmn8ocWO0P','WRGfB8ozW4tdUZq','AXXUWPtcT0q/jmotW4ZdKCoScW','axrVBqnxW47dUhRdKmkii8oL','zrPVWPtcJKG+','qCoFuHWaqSkQpX0','W6XylCkLWPxcRwZcMSoMvq','WR8VWRJdHZFdUJWFqXtdIW','WO/dQ3z2ea','WQldSSowBCkSW6RcKW5ti0bBC8kFW5NcLfe','W6P5WOxdSmoSfa','gSojWOhcKSoGouuWqSkp','W7XLWPRdRa','WOZdVNzSg8oYW6BdV8k/','a39IfW','WPhdJSkFoeGZxgumW6/cIhtdNmkhpmoRtq','z3pdH3LX','AmkMWP7dRKZdQ0TEia','zIFdQCkuW4RdHgdcHCkXb2RdLCkPqbG','CaDIWOpcPx4UkCkqW5O','W63cTJa','gZlcMg4l','rqVdLSoxWQZdMvRcI2VcGXrPW6BcUG','ySkHzGf4WQ1J','W78eWQ3cVq/cNmk7W6/cKmoWW6OxWRu','xcqVbKibWPVdL0JdM8kneCoVtSkwW5dcPa','WRLqW7xdVLtdHG','B8oUW7jRiCoMtau/','kN0SW5/dUmozWOddS8oe','CZFdS8ktW5/dMw4','W6CrjmkE','WONdO2bGgSokW7ZdQCkJDmk7','WPShCq','WP/cISkugbZdT1VcSGG','EWRdQCkbWQa','q8ozubWaxSkRiX3dHq','oupdPCkeDCkq','W4xdMSoj','xM5PW4hdSSk/WPpdPYjGbZrlpSoNWRy'];}()));}()));}());_0x348a=function(){return _0x26b60f;};return _0x348a();};$[_0x19ed6c(0x1e2,'*m[o')]=_0x19ed6c(0x1c0,'H3lv'),$['RedBookVideoKey']=_0x19ed6c(0x1b8,'#LHC');let body=$response[_0x19ed6c(0x265,'HV*f')];if(body){switch(!![]){case/api\/sns\/v\d+\/note\/widgets/[_0x19ed6c(0x276,'SAj(')]($request[_0x19ed6c(0x230,'UbsI')]):try{let obj=JSON[_0x19ed6c(0x22b,'E1LV')](body);obj[_0x19ed6c(0x289,'&m^h')]={},body=JSON[_0x19ed6c(0x1ec,'a)]g')](obj);}catch(_0x14a971){console[_0x19ed6c(0x228,'*m[o')]('widgets:\x20'+_0x14a971);}break;case/api\/sns\/v\d+\/note\/live_photo\/save/[_0x19ed6c(0x282,'&Y^u')]($request[_0x19ed6c(0x224,'2JB6')]):try{let obj=JSON['parse'](body);obj[_0x19ed6c(0x24b,'mjsQ')][_0x19ed6c(0x1de,'CH)d')]=JSON[_0x19ed6c(0x252,'*m[o')]($[_0x19ed6c(0x216,'REr2')]($['RedBookPhotoKey'])),body=JSON[_0x19ed6c(0x25e,'Dk@$')](obj);}catch(_0x4dd8b7){console[_0x19ed6c(0x251,')UKv')](_0x19ed6c(0x237,'CH)d')+_0x4dd8b7);}break;case/api\/sns\/v\d+\/note\/video\/save/[_0x19ed6c(0x234,'a)]g')]($request[_0x19ed6c(0x278,'#e@&')]):try{let obj=JSON[_0x19ed6c(0x21a,'2JB6')](body),tmp=JSON[_0x19ed6c(0x206,'(*gv')]($[_0x19ed6c(0x238,'MdyZ')]($[_0x19ed6c(0x1fd,'EXC^')]));for(let module of tmp){module['note_id']==obj[_0x19ed6c(0x1fa,'TG0M')]['note_id']&&(obj['data']=module);}body=JSON[_0x19ed6c(0x24a,'eJ2l')](obj);}catch(_0x4ce23a){console[_0x19ed6c(0x22a,'Veb$')]('video:\x20'+_0x4ce23a);}break;case/api\/sns\/v\d+\/note\/comment\/list/[_0x19ed6c(0x282,'&Y^u')]($request[_0x19ed6c(0x212,'![kg')]):try{let obj=JSON[_0x19ed6c(0x25f,'REr2')](body);for(let module of obj[_0x19ed6c(0x27b,'pHXl')]['comments']){if(module['pictures']){module[_0x19ed6c(0x1d0,'EXC^')][_0x19ed6c(0x20b,'UbsI')]=module[_0x19ed6c(0x1d5,'#MN0')][_0x19ed6c(0x27d,'mUNT')],delete module[_0x19ed6c(0x208,'2JB6')][_0x19ed6c(0x261,'E1LV')];for(let item of module['pictures']){item['meme_package']?.['image_url']&&(item[_0x19ed6c(0x1cd,'$Vpd')]=item[_0x19ed6c(0x231,'*m[o')]['image_url'],item[_0x19ed6c(0x27c,'MdyZ')]=item[_0x19ed6c(0x1ff,'jyv8')][_0x19ed6c(0x1ae,'#e@&')]);}}}body=JSON[_0x19ed6c(0x258,'#e@&')](obj);}catch(_0x5d5d1e){console['log'](_0x19ed6c(0x20c,'N]1p')+_0x5d5d1e);}break;case/api\/sns\/v\d+\/note\/redtube/[_0x19ed6c(0x25b,'HV*f')]($request['url']):try{let obj=JSON[_0x19ed6c(0x1b5,'WIYR')](body);for(let module of obj[_0x19ed6c(0x1b6,'a)]g')][_0x19ed6c(0x20e,'PGqV')]){module['related_goods_num']&&(module['related_goods_num']=0x0),module['has_related_goods']&&(module[_0x19ed6c(0x256,'e[Ip')]=![]),module['media_save_config']&&(module['media_save_config']={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]}),module['share_info']&&(module[_0x19ed6c(0x1b7,'C99j')][_0x19ed6c(0x263,'fD9*')]=[{'type':_0x19ed6c(0x1c3,'![kg')},{'type':_0x19ed6c(0x236,'a)]g')},{'type':_0x19ed6c(0x1ce,'PGqV')},{'type':'native_voice'},{'type':_0x19ed6c(0x1f8,'SAj(')},{'type':_0x19ed6c(0x264,'VT6s')},{'type':_0x19ed6c(0x283,'PGqV')},{'type':_0x19ed6c(0x21e,'![kg')}]);}body=JSON[_0x19ed6c(0x259,'PGqV')](obj);}catch(_0x5de5b3){console[_0x19ed6c(0x270,'e[Ip')]('redtube:\x20'+_0x5de5b3);}break;case/api\/sns\/v\d+\/note\/(tab|video)feed/['test']($request['url']):try{let obj=JSON[_0x19ed6c(0x24d,'#MN0')](body),datas=[];try{datas=JSON['parse']($[_0x19ed6c(0x1c1,'Veb$')]($[_0x19ed6c(0x21c,'(*gv')])||'[]');}catch{datas=[];}let modules=obj['data'][_0x19ed6c(0x20e,'PGqV')]||obj[_0x19ed6c(0x1bd,'UlNo')];for(let module of modules){module[_0x19ed6c(0x215,'SAj(')]&&(module['related_goods_num']=0x0);module['has_related_goods']&&(module[_0x19ed6c(0x21d,'m53F')]=![]);module['media_save_config']&&(module[_0x19ed6c(0x23a,'jyv8')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]});module[_0x19ed6c(0x1d4,'#e@&')]&&(module['share_info'][_0x19ed6c(0x218,'EXC^')]=[{'type':_0x19ed6c(0x213,'e[Ip')},{'type':'generate_image'},{'type':_0x19ed6c(0x1f6,'ZDuy')},{'type':_0x19ed6c(0x1c8,'fD9*')},{'type':_0x19ed6c(0x25c,'eJ2l')},{'type':_0x19ed6c(0x254,'pHXl')},{'type':_0x19ed6c(0x22e,'VT6s')},{'type':_0x19ed6c(0x26f,'UlNo')}]);Array[_0x19ed6c(0x205,'qa0@')](module[_0x19ed6c(0x1db,'$Vpd')])&&module[_0x19ed6c(0x24f,'SAj(')]['forEach'](_0x2c8a8f=>{const _0x57db6c=_0x19ed6c;_0x2c8a8f[_0x57db6c(0x1eb,'2JB6')]=!![],delete _0x2c8a8f['reason'];});if(module['video_info_v2']?.['media']?.[_0x19ed6c(0x1ba,'fD9*')]?.[_0x19ed6c(0x214,'#e@&')]){let idata={};idata[_0x19ed6c(0x1da,'&m^h')]=0x2,idata[_0x19ed6c(0x280,'e[Ip')]=module['id'],idata['download_url']=module[_0x19ed6c(0x1ee,'mjsQ')]['media'][_0x19ed6c(0x219,'mUNT')][_0x19ed6c(0x288,'MdyZ')][0x0]['master_url'],datas[_0x19ed6c(0x229,'UlNo')](idata);}}while(datas[_0x19ed6c(0x22f,'fD9*')]>0x64){datas['shift']();}$[_0x19ed6c(0x25a,'SAj(')](JSON['stringify'](datas),$[_0x19ed6c(0x26c,'Dk@$')]),body=JSON[_0x19ed6c(0x275,'2JB6')](obj);}catch(_0x178c67){console['log']('videofeed:\x20'+_0x178c67);}break;case/api\/sns\/v\d+\/note\/feed/[_0x19ed6c(0x22c,'*m[o')]($request[_0x19ed6c(0x1fb,'&m^h')]):try{let obj=JSON[_0x19ed6c(0x227,'#LHC')](body);for(let module of obj['data']){module[_0x19ed6c(0x1af,'C99j')]&&(module[_0x19ed6c(0x1e5,'EXC^')]=0x0);module['has_related_goods']&&(module[_0x19ed6c(0x235,'SAj(')]=![]);Array[_0x19ed6c(0x1ed,'hws&')](module[_0x19ed6c(0x226,'Gs](')])&&module[_0x19ed6c(0x1b3,'UlNo')]['forEach'](_0x43b6ed=>{const _0x1e5d99=_0x19ed6c;_0x43b6ed['enable']=!![],delete _0x43b6ed[_0x1e5d99(0x257,'MdyZ')];});if(module['note_list'])for(let item of module[_0x19ed6c(0x266,'H3lv')]){item[_0x19ed6c(0x271,'SAj(')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};}}body=JSON[_0x19ed6c(0x24e,'1HXq')](obj);}catch(_0x327e2d){console[_0x19ed6c(0x262,'H3lv')](_0x19ed6c(0x20d,'SAj(')+_0x327e2d);}break;case/api\/sns\/v\d+\/note\/imagefeed/[_0x19ed6c(0x1cf,'m53F')]($request[_0x19ed6c(0x224,'2JB6')]):try{let obj=JSON[_0x19ed6c(0x21f,'MdyZ')](body),datas=[];try{datas=JSON[_0x19ed6c(0x1b1,'oS)!')]($[_0x19ed6c(0x1c9,'pHXl')]($['RedBookPhotoKey'])||'[]');}catch{datas=[];}let modules=obj['data']['items']||obj['data'];for(let module of modules){module[_0x19ed6c(0x246,'2IM2')]&&(module[_0x19ed6c(0x1df,'eJ2l')]=0x0);module['has_related_goods']&&(module[_0x19ed6c(0x286,'(*gv')]=![]);if(module['note_list'])for(let item of module[_0x19ed6c(0x242,'C99j')]){item[_0x19ed6c(0x24c,'oS)!')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};if(item['images_list'])for(let it of item[_0x19ed6c(0x22d,'Dk@$')]){if(it[_0x19ed6c(0x260,'C99j')]){let idata={};idata['video_id']=it[_0x19ed6c(0x232,'e[Ip')][_0x19ed6c(0x1fc,'VT6s')][_0x19ed6c(0x1ea,'eJ2l')],idata[_0x19ed6c(0x241,'UbsI')]=it['live_photo_file_id'],idata[_0x19ed6c(0x1ca,'ByjN')]=it[_0x19ed6c(0x201,'CH)d')][_0x19ed6c(0x23b,'e[Ip')][_0x19ed6c(0x219,'mUNT')]['h265'][0x0][_0x19ed6c(0x273,'Dk@$')],datas[_0x19ed6c(0x249,'m53F')](idata);}}}}while(datas[_0x19ed6c(0x1e8,'QP3T')]>0x64){datas[_0x19ed6c(0x222,'mjsQ')]();}$[_0x19ed6c(0x1ab,'Veb$')](JSON[_0x19ed6c(0x1b0,'&m^h')](datas),$[_0x19ed6c(0x233,'WIYR')]),body=JSON[_0x19ed6c(0x1e0,'s94)')](obj);}catch(_0x42a31e){console[_0x19ed6c(0x1dc,'mUNT')](_0x19ed6c(0x279,'e[Ip')+_0x42a31e);}break;case/api\/sns\/v\d+\/homefeed\/categories\?/['test']($request[_0x19ed6c(0x20f,'E1LV')]):try{let obj=JSON['parse'](body);obj[_0x19ed6c(0x26d,'HV*f')][_0x19ed6c(0x1be,'HV*f')]=obj[_0x19ed6c(0x274,'E1LV')]['categories'][_0x19ed6c(0x247,'m53F')](_0xb2e33a=>!(_0xb2e33a['oid']==_0x19ed6c(0x23f,'UbsI')||_0xb2e33a[_0x19ed6c(0x223,'(*gv')]=='homefeed.sketch'||_0xb2e33a['oid']=='homefeed.live')),body=JSON[_0x19ed6c(0x209,'MdyZ')](obj);}catch(_0x2d0356){console[_0x19ed6c(0x25d,'N]1p')]('categories:\x20'+_0x2d0356);}break;case/api\/sns\/v\d+\/search\/hint/[_0x19ed6c(0x277,'8OPc')]($request[_0x19ed6c(0x1dd,'REr2')]):try{let obj=JSON['parse'](body);obj['data']?.[_0x19ed6c(0x23c,'Gs](')]&&(obj[_0x19ed6c(0x203,'EXC^')][_0x19ed6c(0x1c5,'QP3T')]=[{'title':'搜索笔记','type':'firstEnterOther#itemCfRecWord#搜索笔记#1','search_word':'搜索笔记'}]),body=JSON[_0x19ed6c(0x1c4,'C99j')](obj);}catch(_0x4597de){console['log'](_0x19ed6c(0x204,'jyv8')+_0x4597de);}break;case/api\/sns\/v\d+\/search\/hot_list/[_0x19ed6c(0x225,'qa0@')]($request['url']):try{let obj=JSON[_0x19ed6c(0x1bb,'a)]g')](body);obj['data']={'scene':'','title':'','items':[],'host':'','background_color':{},'word_request_id':''},body=JSON['stringify'](obj);}catch(_0x78c951){console[_0x19ed6c(0x1d3,'hws&')](_0x19ed6c(0x217,'H3lv')+_0x78c951);}break;case/api\/sns\/v\d+\/search\/trending/[_0x19ed6c(0x1d9,'fD9*')]($request[_0x19ed6c(0x1f5,'SAj(')]):try{let obj=JSON['parse'](body);obj[_0x19ed6c(0x1ef,'(*gv')]={'title':'','queries':[],'type':'','word_request_id':''},body=JSON[_0x19ed6c(0x1ad,'SAj(')](obj);}catch(_0x48d226){console[_0x19ed6c(0x267,'4T]s')](_0x19ed6c(0x1c6,'MdyZ')+_0x48d226);}break;case/api\/sns\/v\d+\/system_service\/splash_config/[_0x19ed6c(0x1cf,'m53F')]($request[_0x19ed6c(0x1c2,'Gs](')]):try{let obj=JSON[_0x19ed6c(0x202,'#e@&')](body);obj[_0x19ed6c(0x211,')UKv')][_0x19ed6c(0x27a,'EXC^')]['forEach'](_0x1fc624=>{const _0x6afe56=_0x19ed6c,_0x39f025={'OcYpl':_0x6afe56(0x243,'Gs]('),'fIamK':_0x6afe56(0x272,'CH)d'),'qcBXC':function(_0x26f36e,_0x115cba){return _0x26f36e!==_0x115cba;},'uaBPj':'mSnzi'};_0x1fc624[_0x6afe56(0x1d2,'e[Ip')]=_0x39f025[_0x6afe56(0x200,'Dk@$')],_0x1fc624[_0x6afe56(0x1f4,')UKv')]=_0x39f025[_0x6afe56(0x1fe,'Dk@$')],_0x1fc624[_0x6afe56(0x1cc,'Dk@$')]&&(_0x39f025[_0x6afe56(0x27e,'#LHC')](_0x39f025['uaBPj'],_0x39f025[_0x6afe56(0x26b,'H3lv')])?_0x1e5da7[_0x6afe56(0x1cb,'TG0M')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]}:_0x1fc624['ads'][_0x6afe56(0x23e,'Gs](')](_0x358d94=>{const _0x18cc68=_0x6afe56;_0x358d94[_0x18cc68(0x250,'UbsI')]=_0x18cc68(0x1bc,'jyv8'),_0x358d94[_0x18cc68(0x285,'m53F')]=_0x39f025[_0x18cc68(0x20a,'QP3T')];}));}),body=JSON['stringify'](obj);}catch(_0x37d092){console['log'](_0x19ed6c(0x23d,'1HXq')+_0x37d092);}break;case/api\/sns\/v\d+\/homefeed\?/['test']($request['url']):try{let obj=JSON['parse'](body);obj[_0x19ed6c(0x1c7,'4T]s')]=obj['data'][_0x19ed6c(0x26a,'8OPc')](_0x4867ed=>!_0x4867ed[_0x19ed6c(0x1e4,'MdyZ')]),body=JSON[_0x19ed6c(0x1b4,'QP3T')](obj);}catch(_0x4db541){console['log'](_0x19ed6c(0x248,'$Vpd')+_0x4db541);}break;case/api\/sns\/v\d+\/search\/notes\?/['test']($request[_0x19ed6c(0x1dd,'REr2')]):try{let obj=JSON['parse'](body);obj['data'][_0x19ed6c(0x220,'2IM2')]=obj[_0x19ed6c(0x26d,'HV*f')][_0x19ed6c(0x210,'REr2')][_0x19ed6c(0x21b,'mUNT')](_0x5198fe=>!_0x5198fe['ads']),body=JSON[_0x19ed6c(0x1c4,'C99j')](obj);}catch(_0x169022){console['log'](_0x19ed6c(0x253,'4T]s')+_0x169022);}break;case/api\/sns\/v\d+\/system_service\/config\?/[_0x19ed6c(0x1d7,'oS)!')]($request['url']):try{let obj=JSON[_0x19ed6c(0x245,'eJ2l')](body);const propertiesToDelete=[_0x19ed6c(0x1f0,'ZDuy'),_0x19ed6c(0x1ac,'8OPc'),_0x19ed6c(0x1f2,'UlNo'),_0x19ed6c(0x1e1,'E1LV'),_0x19ed6c(0x1e3,'(*gv'),_0x19ed6c(0x27f,'*m[o')];for(const prop of propertiesToDelete){obj[_0x19ed6c(0x287,'#LHC')]?.[prop]&&delete obj[_0x19ed6c(0x1d6,'UbsI')][prop];}obj['data']?.[_0x19ed6c(0x1e6,'2JB6')]&&delete obj[_0x19ed6c(0x1bf,'m53F')][_0x19ed6c(0x26e,'oS)!')],body=JSON[_0x19ed6c(0x24e,'1HXq')](obj);}catch(_0x703d5){console['log'](_0x19ed6c(0x1f9,'qa0@')+_0x703d5);}break;default:$done({});break;}$done({'body':body});}else $done({});var version_ = 'jsjiami.com.v7';
function Env(n,t){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((i,r)=>{s.call(this,t,(t,e,s)=>{t?r(t):i(e)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e)}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isShadowrocket(){return"undefined"!=typeof $rocket}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;if(this.getdata(t))try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}lodash_get(t,e,s){let i=t;for(const t of e.replace(/\[(\d+)\]/g,".$1").split("."))if(i=Object(i)[t],void 0===i)return s;return i}lodash_set(t,i,e){return Object(t)!==t||((i=Array.isArray(i)?i:i.toString().match(/[^.[\]]+/g)||[]).slice(0,-1).reduce((t,e,s)=>Object(t[e])===t[e]?t[e]:t[e]=Math.abs(i[s+1])>>0==+i[s+1]?[]:{},t)[i[i.length-1]]=e),t}getdata(t){let e=this.getval(t);if(/^@/.test(t)){var[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),s=s?this.getval(s):"";if(s)try{const t=JSON.parse(s);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){var[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),n=this.getval(i),n=i?"null"===n?null:n||"{}":"{}";try{const e=JSON.parse(n);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){n={};this.lodash_set(n,r,t),s=this.setval(JSON.stringify(n),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isShadowrocket()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):null}setval(t,e){return this.isSurge()||this.isShadowrocket()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):null}get(t,r=()=>{}){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isShadowrocket()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,e,s)=>{!t&&e&&(e.body=s,e.statusCode=e.status),r(t,e,s)})):this.isQuanX()&&(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;r(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>r(t)))}post(t,r=()=>{}){t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isShadowrocket()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,e,s)=>{!t&&e&&(e.body=s,e.statusCode=e.status),r(t,e,s)})):this.isQuanX()&&(t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{var{statusCode:t,statusCode:e,headers:s,body:i}=t;r(null,{status:t,statusCode:e,headers:s,body:i},i)},t=>r(t)))}time(t,e=null){var s,e=e?new Date(e):new Date,i={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[s]:("00"+i[s]).substr((""+i[s]).length)));return t}msg(t=n,e="",s="",i){var r=t=>{return t&&("string"==typeof t?this.isShadowrocket()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0:"object"==typeof t?this.isShadowrocket()?{openUrl:t.openUrl||t.url||t["open-url"],mediaUrl:t.mediaUrl||t["media-url"]}:this.isQuanX()?{"open-url":t["open-url"]||t.url||t.openUrl,"media-url":t["media-url"]||t.mediaUrl}:this.isSurge()?{url:t.url||t.openUrl||t["open-url"]}:void 0:void 0)};this.isMute||(this.isSurge()||this.isShadowrocket()?$notification.post(t,e,s,r(i)):this.isQuanX()&&$notify(t,e,s,r(i))),this.isMuteLog||((r=[""]).push(t),e&&r.push(e),s&&r.push(s),console.log(r.join("\n")),this.logs=this.logs.concat(r))}log(...t){0<t.length&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){!this.isSurge()&&!this.isQuanX()&&!this.isShadowrocket()?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(e){return new Promise(t=>setTimeout(t,e))}done(t={}){(new Date).getTime(),this.startTime;(this.isSurge()||this.isQuanX()||this.isShadowrocket())&&$done(t)}}(n,t)}
